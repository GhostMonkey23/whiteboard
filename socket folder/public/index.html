<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Socket.IO whiteboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <canvas class="whiteboard"  id = "myForm"></canvas>

  <div class="colors">
    <div class="color black"></div>
    <div class="color red"></div>
    <div class="color green"></div>
    <div class="color blue"></div>
    <div class="color yellow"></div>
    <div class="color purple"></div>
    <div class="color orangered"></div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/main.js"></script>

    <script>
    const myForm = document.getElementById('myForm');
    myForm.addEventListener('submit', function (e){
        e.preventDefault();

        const formData = new FormData(this);

        fetch('localhost:2222/set', {
          method: 'post',
          body: formData
        }).then(function (response) {
            return response.text();
        }).then(function (text) {
          console.log(text);
        }).catch(function (error){
          console.error(error);
        })
    });
  </script>

</body>
</html>